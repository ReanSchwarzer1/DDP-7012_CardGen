<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>USCSS DECK CONTROL</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="scanlines"></div>
  <div class="bg-grid"></div>

  <main class="app">
    <header>
      <div class="header-decoration"></div>
      <h1>// ALIEN_DECK_SYS //</h1>
      <div class="system-status">STATUS: ONLINE</div>
    </header>

    <section class="controls">
      <div class="turn-control panel">
        <label>MISSION_TURN:</label>
        <div class="input-group">
          <input type="number" id="turnInput" value="1" min="1" max="30" />
          <button id="setTurnBtn" class="btn-small">SET</button>
        </div>
      </div>

      <div class="draw-zone panel">
        <div class="selector-wrapper">
          <label for="deckSelector">>> SELECT_PROTOCOL:</label>
          <select id="deckSelector">
            <option value="hunt">PROTOCOL: HUNT [STANDARD]</option>
            <option value="evolve">PROTOCOL: EVOLVE [UPGRADE]</option>
            <option value="escalation">PROTOCOL: ESCALATION [EVENT]</option>
            <option value="hazard">PROTOCOL: HAZARD [DANGER]</option>
          </select>
        </div>
        
        <button id="masterDrawBtn" class="btn-master hunt-mode">
          <span class="btn-text">INITIATE_DRAW</span>
          <span class="btn-glitch"></span>
        </button>
      </div>

      <div class="buttons-row panel">
        <button id="nextTurnBtn" class="btn-secondary">NEXT_TURN [++]</button>
        <button id="toggleHandbookBtn" class="btn-secondary" style="border-color: var(--neon-amber); color: var(--neon-amber);">HANDBOOK [?]</button>
        <button id="shuffleAllBtn" class="btn-warning">SYS_RESET</button>
      </div>
      
      <div class="panel override-panel">
        <a href="possessed.html" class="btn-glitch-link">
          <span class="text">>> OPEN_POSSESSED_UPLINK <<</span>
          <span class="decoration"></span>
        </a>
      </div>
    </section>

    <section class="status panel">
      <div class="stat-item">TURN: <span id="turnDisplay">1</span></div>
      <div class="stat-item">TIER: <span id="tierDisplay">1</span></div>
      <div class="stat-item">HUNT: <span id="huntCount">--</span></div>
      <div class="stat-item">EVOLVE: <span id="evolveCount">--</span></div>
      <div class="stat-item">EVENT: <span id="escalationCount">--</span></div>
      <div class="stat-item">HAZARD: <span id="envCount">--</span></div>
    </section>

    <section class="log panel">
      <div class="log-header">
        <h2>>> MISSION_LOG</h2>
        <button id="clearLogBtn" class="btn-xs">CLEAR</button>
      </div>
      <div id="logOutput"></div>
    </section>

    <section id="handbookSection">
      <h2 style="text-align:center; color: var(--neon-amber); font-family: var(--font-display);">// TACTICAL DATABASE //</h2>
      
      <div class="section-title">>> OPERATIONAL CYCLE</div>
      <div class="phase-grid">
        <div class="phase-card">
          <h3><span>01</span> BRIEFING</h3>
          <div class="phase-detail">
            <strong>1. Location Check:</strong> Announce Room/Tile.<br>
            <strong>2. Action Selection:</strong> Place Card Face-Down.<br>
            <em style="color:#666;">Locked. No take-backs.</em>
          </div>
        </div>
        <div class="phase-card">
          <h3><span>02</span> EXECUTION</h3>
          <div class="phase-detail">
            <strong>HUMAN:</strong> Resolve Action (Move, Search, Door, Hide).
            <div class="phase-sub"><strong class="highlight-red">POSSESSED:</strong> Twisted Action / Interference.</div>
          </div>
        </div>
        <div class="phase-card">
          <h3><span>03</span> THREAT</h3>
          <div class="phase-detail">
            <strong>Draw Cards:</strong> 1 Base + 1 per Possessed + Alarm.<br>
            <strong>Resolve:</strong> Hunt, Swarm, Hazards.
          </div>
        </div>
        <div class="phase-card">
          <h3><span>04</span> RESOLUTION</h3>
          <div class="phase-detail">
            <strong>Alien Moves:</strong> X tiles via Hunt Cards.<br>
            <em>Priority: Noise > Sight > Energy > Random</em>
          </div>
        </div>
        <div class="phase-card">
          <h3><span>05</span> ENCOUNTER</h3>
          <div class="phase-detail">
            <strong>1st:</strong> <span class="highlight-green">ESCAPE</span> (Auto-Hide, Alarm triggers).<br>
            <strong>2nd:</strong> <span class="highlight-red">POSSESSION</span> (Join Hive Mind).
          </div>
        </div>
        <div class="phase-card">
          <h3><span>06</span> REACTION</h3>
          <div class="phase-detail">
            Triggers if Alien <strong>< 3 Tiles</strong> away.<br>
            <strong>Actions:</strong> Yell, Trap, Guard (d6: 3+).
          </div>
        </div>
      </div>

      <div class="section-title">>> CREW MANIFEST</div>
      <div class="role-grid">
        <div class="role-card role-military">
          <div class="role-header"><div class="role-name">MILITARY</div><div class="role-uses">3 USES</div></div>
          <div class="role-body">
            <div class="ability"><div class="ability-name">DEPLOY TRAP</div><div class="ability-desc">Place hidden token. Alien entering is STUNNED 1 turn.</div></div>
            <div class="ability"><div class="ability-name">TACTICAL RALLY</div><div class="ability-desc">Grant adjacent ally +1 Action immediately.</div></div>
          </div>
        </div>
        <div class="role-card role-biologist">
          <div class="role-header"><div class="role-name">BIOLOGIST</div><div class="role-uses">2 USES</div></div>
          <div class="role-body">
            <div class="ability"><div class="ability-name">INCAPACITATE</div><div class="ability-desc">If in same room: Freeze Alien 1 turn.</div></div>
            <div class="ability"><div class="ability-name">EXORCISM</div><div class="ability-desc">Reset rooted Possessed player to Human.</div></div>
          </div>
        </div>
        <div class="role-card role-engineer">
          <div class="role-header"><div class="role-name">ENGINEER</div><div class="role-uses">3 USES</div></div>
          <div class="role-body">
            <div class="ability"><div class="ability-name">AUXILIARY POWER</div><div class="ability-desc">Restore +3 Energy to Station.</div></div>
            <div class="ability"><div class="ability-name">OVERRIDE</div><div class="ability-desc">Open any Door for FREE (0 Energy).</div></div>
          </div>
        </div>
        <div class="role-card role-scientist">
          <div class="role-header"><div class="role-name">SCIENTIST</div><div class="role-uses">2 USES</div></div>
          <div class="role-body">
            <div class="ability"><div class="ability-name">PRECOGNITION</div><div class="ability-desc">Peek at top card of Alien Deck.</div></div>
            <div class="ability"><div class="ability-name">RAPID RESEARCH</div><div class="ability-desc">Search: Draw 2 Cards, Keep both.</div></div>
          </div>
        </div>
        <div class="role-card role-pilot">
          <div class="role-header"><div class="role-name">PILOT</div><div class="role-uses">2 USES</div></div>
          <div class="role-body">
            <div class="ability"><div class="ability-name">SPRINT</div><div class="ability-desc">Move 2 Tiles for 1 Move Action (Free).</div></div>
            <div class="ability"><div class="ability-name">HOTWIRE</div><div class="ability-desc">Reduce Escape Pod cost by 3 Energy.</div></div>
          </div>
        </div>
        <div class="role-card role-medic">
          <div class="role-header"><div class="role-name">MEDICAL</div><div class="role-uses">1 USE</div></div>
          <div class="role-body">
            <div class="ability"><div class="ability-name">STABILIZE</div><div class="ability-desc">Reset Capture Counter (Prevent Possession).</div></div>
            <div class="ability"><div class="ability-name">ADRENALINE</div><div class="ability-desc">Reduce Action Cost by -1 Energy.</div></div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <script src="main.js"></script>
</body>
</html>